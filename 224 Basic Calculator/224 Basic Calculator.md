### 224 Basic Calculator

Implement a basic calculator to evaluate a simple expression string.

The expression string may contain open `(` and closing parentheses `)`, the plus `+` or minus sign `-`, **non-negative** integers and empty spaces ``.

**Example 1:**

```
Input: "1 + 1"
Output: 2
```

**Example 2:**

```
Input: " 2-1 + 2 "
Output: 3
```

**Example 3:**

```
Input: "(1+(4+5+2)-3)+(6+8)"
Output: 23
```

### **想法**

分两步，第一步把输入表达式转化成逆波兰表达式，第二步对逆波兰表达式求值。

第二步是简单的，每当遇到数字就入栈，遇到符号就把栈顶两个数字弹出并计算再入栈，关键是怎么求逆波兰表达式。

步骤如下

1. 首先，需要分配2个栈，栈s1用于临时存储运算符（含一个结束符号），此运算符在栈内遵循越往栈顶优先级越高的原则；栈s2用于输入逆波兰式，为方便起见，栈s1需先放入一个优先级最低的运算符，在这里假定为'#'；

2. 从中缀式的左端开始逐个读取字符x，逐序进行如下步骤：
   1. 若x是操作数，则分析出完整的运算数（在这里为方便，用字母代替数字），将x直接压入栈s2；
   2. 若x是运算符，则分情况讨论：
      1. 若x是'('，则直接压入栈s1；
      2. 若x是')'，则将距离栈s1栈顶的最近的'('之间的运算符，逐个出栈，依次压入栈s2，此时抛弃'('；
      3. 若x是除'('和')'外的运算符，则再分如下情况讨论：
         1. 若当前栈s1的栈顶元素为'('或空栈，则将x直接压入栈s1；
         2. 若当前栈s1的栈顶元素不为'('，则将x与栈s1的栈顶元素比较，若x的优先级大于栈s1栈顶运算符优先级，则将x直接压入栈s1。否者，将栈s1的栈顶运算符弹出，压入栈s2中，直到栈s1的栈顶运算符优先级别低于（不包括等于）x的优先级，或栈s2的栈顶运算符为'('，此时再则将x压入栈s1。**即如果当前是加减，那么不断弹出直到栈为空或者栈顶是'('。如果当前是乘除，那么不断弹出直到栈顶不再是乘除。然后再入栈**（其实就是加减优先级最低，乘除肯定比它先算，同级的加减也因为在当前加减的前面所以也先算，这里进入s2的顺序就是运算的顺序)

3. 在进行完(2)后，检查栈s1是否为空，若不为空，则将栈中元素依次弹出并压入栈s2中（不包括'#'）；　